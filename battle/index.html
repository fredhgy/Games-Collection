<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.5">
    <title>Battle!</title>
    <link rel="stylesheet" type="text/css" href="css/default.css">
    <link rel="stylesheet" href="css/style.min.css">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: auto;
            -moz-user-select: none;
            /*火狐*/
            -webkit-user-select: none;
            /*webkit浏览器*/
            -ms-user-select: none;
            /*IE10*/
            -khtml-user-select: none;
            /*早期浏览器*/
            user-select: none;
        }
        
        div {
            margin: 20px;
            border: 0;
            padding: 0;
            width: auto;
        }
        
        .divb {
            border: 1px solid black;
        }
        
        .lastResult {
            color: white;
            padding: 3px;
        }
    </style>
    <link rel="stylesheet" href="css/image.css">
    <link rel="stylesheet" href="css/gallary.css">

    <!-- Buttons 库的核心文件 -->
    <link rel="stylesheet" href="css/buttons.css">
    <!-- 当需要使用带下拉菜单的按钮时才需要加载下面的 JavaScript 文件 -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="jquery.min.js"></script>
    <script src="bootstrap.min.js"></script>

    <!-- 只有使用字体图标时才需要加载 Font-Awesome -->
    <link href="css/font-awesome.min.css" rel="stylesheet">

</head>

<body onload="onload()" class="text-align: center">


    <div id="wrapper" class="wrapper">
        <header class="header htmleaf-header">
            <h1>Battle!<span>alpha:<text id="version"></text><br><a href="https://www.heguangyu.net" target="_blank">© heguangyu.net</a></span></h1>
        </header>
        <main>
            <div class="container">
                <section>

                    <div>
                        <p id="news" onclick=delnews() class="button-border button-rounded button-primary" style="word-break:break-word;">消息栏: <text id="newstext"></text> </p>
                    </div>

                    <div>
                        <div class="btn-group">
                            <button type="button" id="ssrselect" class=" button button-rounded" data-toggle="dropdown">Settings<span class="caret"></span></button>
                            <ul class="dropdown-menu" role="menu">
                                <li>
                                    <a href="javascript:restart()">删除存档！</a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <a href="javascript:test()">测试！</a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <a href="javascript:hintsetting()" id="hintset">关闭提示</a>
                                </li>
                                <li>
                                    <a href="../index.html" id="hintset">HomePage</a>
                                </li>
                            </ul>
                        </div>


                        <div>
                            <div class="button-group">
                                <button id="money" type="button" style="display: inline" class="button button-primary">money:</button>
                            </div>
                        </div>

                        <div class="divb">
                            <table border="0">
                                <tr>
                                    <td>
                                        <p class="button-border button-rounded">BOSS</p>
                                    </td>
                                    <td>
                                        <p id="bosslifedis" class="button-border button-rounded button-caution">Life</p>
                                    </td>
                                    <td>
                                        <p id="bossenergydis" class="button-border button-rounded button-primary">Energy</p>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <div class="divb">
                            <table width="400" border="0">
                                <tr>
                                    <td>
                                        <div class="btn-group">
                                            <button type="button" id="chaoneseltxt" class=" button button-rounded" data-toggle="dropdown">characters<span id ="menubutton1" class="caret"></span></button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li>
                                                    <a id="chaone1seltxt" href="javascript:chaselect(1,1)">1</a>
                                                    <a id="chaone2seltxt" href="javascript:chaselect(1,2)">2</a>
                                                    <a id="chaone3seltxt" href="javascript:chaselect(1,3)">3</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </td>
                                    <td>
                                        <p id="chaonelife" class="button-border button-rounded button-caution">Life</p>
                                    </td>
                                    <td>
                                        <p id="chaoneenergy" class="button-border button-rounded button-primary">Energy</p>
                                    </td>
                                </tr>
                            </table>
                            <div class="button-group">
                                <button onmouseover="mouseover1(1)" onmouseout="mouseout()" id="onea" type="button" onclick="selectskilla(1)" style="display: inline" class="button button-pill button-action">A</button>
                                <button onmouseover="mouseover1(2)" onmouseout="mouseout()" id="oneb" type="button" onclick="selectskillb(1)" style="display: inline" class="button button-pill button-action">B</button>
                                <button onmouseover="mouseover1(3)" onmouseout="mouseout()" id="onec" type="button" onclick="selectskillc(1)" style="display: inline" class="button button-pill button-action">C</button>
                            </div>
                            <p id="skilltxt1" style="display: none;"></p>
                        </div>

                        <div class="divb">
                            <table width="400" border="0">
                                <tr>
                                    <td>
                                        <div class="btn-group">
                                            <button type="button" id="chatwoseltxt" class=" button button-rounded" data-toggle="dropdown">characters<span id ="menubutton2" class="caret"></span></button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li>
                                                    <a id="chatwo1seltxt" href="javascript:chaselect(2,1)">1</a>
                                                    <a id="chatwo2seltxt" href="javascript:chaselect(2,2)">2</a>
                                                    <a id="chatwo3seltxt" href="javascript:chaselect(2,3)">3</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </td>
                                    <td>
                                        <p id="chatwolife" onclick="rtocounter()" class="button-border button-rounded button-caution">Life</p>
                                    </td>
                                    <td>
                                        <p id="chatwoenergy" onclick="rtocounter()" class="button-border button-rounded button-primary">Energy</p>
                                    </td>
                                </tr>
                            </table>
                            <div class="button-group">
                                <button id="twoa" type="button" onclick="selectskilla(2)" style="display: inline" class="button button-pill button-action">A</button>
                                <button id="twob" type="button" onclick="selectskillb(2)" style="display: inline" class="button button-pill button-action">B</button>
                                <button id="twoc" type="button" onclick="selectskillc(2)" style="display: inline" class="button button-pill button-action">C</button>
                            </div>
                        </div>

                        <div>
                            <button id="start" onclick="start()" class="button button-glow button-border button-rounded button-primary text-align: center">save</button>
                        </div>
                </section>
                </div>
        </main>
        </div>



        <script>
            var localStorage = window.localStorage;

            var battlestr;
            var battle = {
                cha1name: "",
                cha2name: "",
                cha3name: "",
                cha1life: "",
                cha2life: "",
                cha3life: "",
                cha1energy: "",
                cha2energy: "",
                cha3energy: "",
                cha1weight: "",
                cha2weight: "",
                cha3weight: "",
                bossname: "",
                bosslife: "",
                bossenergy: "",
                bossweight: "",
                money: "",
            };

            var newsbattlestr;
            var newsbattle = {
                newstext: ""
            }

            var hint = 1; //用于设置是否需要提醒，默认1为打开，0为关闭
            function hintsetting() {
                if (hint == 1) {
                    hint = 0;
                    newstext("游戏提示已关闭")
                    document.getElementById("hintset").innerHTML = "打开提示";
                } else {
                    hint = 1;
                    newstext("游戏提示已打开")
                    document.getElementById("hintset").innerHTML = "关闭提示";
                }
            }

            function restart() {
                var sure;
                sure = confirm("确认删除存档吗！?")
                if (sure == true) {
                    localStorage.clear();
                    location.reload();
                } else {}
            }

            function test() {
                //测试用   

                battle.money = battle.money + 1000;

                newsbattle.newstext = "";
                newstext("已加载测试数据");
                savenews();
                save();
                onload();
                location.reload();
            }

            function onload() {

                document.getElementsByTagName('body')[0].style.zoom = 0.8

                var myDate = new Date();
                var version = myDate.toLocaleString();

                document.getElementById("version").innerHTML = "201104 - 2000";

                load();

                document.getElementById("newstext").innerHTML = newsbattle.newstext;
                displayresult()
            }

            function displayresult() {
                document.getElementById("money").innerHTML = "剩余money:" + battle.money;
            }

            function newstext(text) { //消息栏
                newsbattle.newstext = newsbattle.newstext + "||" + text;
                document.getElementById("newstext").innerHTML = newsbattle.newstext;
            }

            function delnews() {
                sure = confirm("确定删除消息?");
                if (sure == null || sure == false) {
                    return;
                } else {
                    newsbattle.newstext = "";
                    document.getElementById("newstext").innerHTML = newsbattle.newstext;
                    savenews();
                }
            }

            function restorebuttons() {
                document.getElementById("onea").className = "button button-pill button-action";
                document.getElementById("oneb").className = "button button-pill button-action";
                document.getElementById("onec").className = "button button-pill button-action";
                document.getElementById("twoa").className = "button button-pill button-action";
                document.getElementById("twob").className = "button button-pill button-action";
                document.getElementById("twoc").className = "button button-pill button-action";
            }

            function bossstatusdisplay() {
                document.getElementById("bosslifedis").innerHTML = battle.bosslife;
                document.getElementById("bossenergydis").innerHTML = battle.bossenergy;
            }

            function chastatusdisplay() {
                if (chaselected1 == 1) {
                    chaselectdisplay(1, 1);
                } else if (chaselected1 == 2) {
                    chaselectdisplay(1, 2);
                } else if (chaselected1 == 3) {
                    chaselectdisplay(1, 3);
                } else {

                }

                if (chaselected2 == 1) {
                    chaselectdisplay(2, 1);
                } else if (chaselected2 == 2) {
                    chaselectdisplay(2, 2);
                } else if (chaselected2 == 3) {
                    chaselectdisplay(2, 3);
                } else {

                }
            }

            function mouseover1(skill) {
                document.getElementById("skilltxt1").style.display = "inline"
                if (skill == 1) {
                    if (chaselected1 == 1) {
                        document.getElementById("skilltxt1").innerHTML = "1-A"
                    } else if (chaselected1 == 2) {
                        document.getElementById("skilltxt1").innerHTML = "2-A"
                    } else if (chaselected1 == 3) {
                        document.getElementById("skilltxt1").innerHTML = "3-A"
                    } else {}
                } else if (skill == 2) {
                    if (chaselected1 == 1) {
                        document.getElementById("skilltxt1").innerHTML = "1-B"
                    } else if (chaselected1 == 2) {
                        document.getElementById("skilltxt1").innerHTML = "2-B"
                    } else
                    if (chaselected1 == 3) {
                        document.getElementById("skilltxt1").innerHTML = "3-B"
                    } else {}
                } else if (skill == 3) {
                    if (chaselected1 == 1) {
                        document.getElementById("skilltxt1").innerHTML = "1-C"
                    } else if (chaselected1 == 2) {
                        document.getElementById("skilltxt1").innerHTML = "2-C"
                    } else
                    if (chaselected1 == 3) {
                        document.getElementById("skilltxt1").innerHTML = "3-C"
                    } else {}
                }
            }

            function mouseout() {
                document.getElementById("skilltxt1").style.display = "none"
            }

            function start() {
                battle();
            }

            function deadand() { //传递信息给安卓的java 
                //var text=document.getElementById("text").value;  
                window.location = "javascript:window.android.deadand()";
            }
        </script>
</body>

<script src="loadandsave.js"></script>
<script src="chaselect.js"></script>
<script src="skills.js"></script>
<script src="start.js"></script>

</html>